extends ../base
include ../mixins/video

block content
  div.profile__data
    if !user.avatarUrl
      span.none-avatar ğŸ˜‚
    else
      if user.avatarUrl.includes("github" || "kakao")
        img(src=user.avatarUrl).avatar
      else
        img(src="/"+user.avatarUrl).avatar
    h3=user.name
  div.profile__follow
    if String(loggedInUser._id) !== String(user._id)
      div.follow-box
        if followIndex === -1
          div.follow#follow(data-followid=loggedInUser._id, data-followingid=user._id)
            span#followSpan êµ¬ë…
        else
          div.follow.following#follow(data-followid=loggedInUser._id, data-followingid=user._id)
            span#followSpan êµ¬ë…ì¤‘
        span#followerNumber êµ¬ë…ì #{user.followerNumber}ëª…
    else 
      span êµ¬ë…ì #{user.followerNumber}ëª…
  div.video-grid
    each video in user.videos.reverse()
      +video(video)
    else
      span.empty__message No videos found

block scripts
  script(src="/static/js/follow.js") 